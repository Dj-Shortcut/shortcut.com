<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DJ-Shortcut</title>
  <meta name="description" content="Music for the mind. Electronic Dance Music and Other things I like." />
  <style>
    :root{
      --bg: #050805;
      --panel: #07120B;
      --txt: #D7FFE6;
      --muted: #7ACF98;
      --acc: #21FF6A;
      --acc2:#0FAE4B;
      --border: rgba(33,255,106,0.25);
    }
    *{ box-sizing: border-box; }
    html, body { height: 100%; scroll-behavior: smooth; }
    body{
      margin: 0;
      background:
        radial-gradient(1200px 600px at 20% 10%, rgba(33,255,106,0.10), transparent 60%),
        radial-gradient(900px 500px at 80% 60%, rgba(15,174,75,0.08), transparent 60%),
        var(--bg);
      color: var(--txt);
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }
    .scanlines::before{
      content:"";
      position: fixed;
      inset: 0;
      pointer-events: none;
      background: repeating-linear-gradient(to bottom, rgba(255,255,255,0.03), rgba(255,255,255,0.03) 1px, rgba(0,0,0,0) 3px, rgba(0,0,0,0) 6px);
      opacity: .10;
      z-index: 0;
    }
    .wrap{ position: relative; z-index: 1; max-width: 980px; margin: 0 auto; padding: 24px 14px 40px; }
    .glow{ text-shadow: 0 0 12px rgba(33,255,106,0.35); }
    .panel{ background: linear-gradient(180deg, rgba(7,18,11,0.95), rgba(5,8,5,0.85)); border: 1px solid var(--border); box-shadow: 0 0 0 1px rgba(15,174,75,0.10) inset, 0 0 24px rgba(33,255,106,0.08); border-radius: 16px; }
    .card{ padding: 16px; }
    @media (min-width: 768px){ .card{ padding: 22px; } .wrap{ padding: 36px 18px 60px; } h1{ font-size: 54px; } }
    .topbar{ display: flex; flex-wrap: wrap; gap: 10px; align-items: center; justify-content: space-between; font-size: 13px; color: var(--muted); }
    h1{ margin: 16px 0 8px; font-size: 34px; line-height: 1.05; font-weight: 700; letter-spacing: -0.02em; }
    .lead{ margin: 0; color: var(--muted); max-width: 65ch; line-height: 1.45; }
    .cursor{ color: var(--acc); display: inline-block; transform: translateY(1px); animation: blink 1s steps(2, start) infinite; }
    @keyframes blink { to { opacity: 0; } }
    .cover{ margin-top: 16px; border: 1px solid var(--border); border-radius: 12px; overflow: hidden; max-height: 280px; }
    .cover img{ width: 100%; height: 280px; object-fit: cover; display:block; opacity: .85; filter: saturate(1.2) contrast(1.05); }
    .boot{ margin-top: 16px; border: 1px solid var(--border); background: rgba(0,0,0,0.30); border-radius: 12px; padding: 12px; }
    .boot .label{ font-size: 11px; color: var(--muted); margin-bottom: 8px; letter-spacing: 0.06em; }
    .boot ul{ margin: 0; padding: 0; list-style: none; display: grid; gap: 6px; font-size: 14px; color: rgba(215,255,230,0.85); }
    .boot li span{ color: var(--acc2); margin-right: 6px; }
    .cmds{ display: flex; flex-wrap: wrap; gap: 10px; margin-top: 16px; }
    .cmd{ display: inline-flex; align-items: center; gap: 8px; border: 1px solid rgba(33,255,106,0.30); background: rgba(7,18,11,0.70); padding: 10px 12px; border-radius: 12px; text-decoration: none; color: var(--txt); font-size: 14px; transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease; }
    .cmd:hover{ transform: translateY(-1px); border-color: rgba(33,255,106,0.55); box-shadow: 0 0 18px rgba(33,255,106,0.12); }
    .cmd b{ color: var(--acc); font-weight: 700; }
    .chips{ margin-top: 16px; display: flex; flex-wrap: wrap; gap: 10px; font-size: 12px; color: var(--muted); }
    .chip{ border: 1px solid var(--border); background: rgba(0,0,0,0.20); padding: 6px 10px; border-radius: 10px; }
    .grid{ margin-top: 16px; display: grid; gap: 14px; }
    .section-head{ display: flex; align-items: center; justify-content: space-between; gap: 10px; flex-wrap: wrap; }
    h2{ margin: 0; font-size: 18px; font-weight: 700; }
    .path{ font-size: 11px; color: var(--muted); opacity: 0.9; }
    .section-body{ margin-top: 12px; color: rgba(215,255,230,0.90); line-height: 1.5; font-size: 14px; }
    .list{ margin: 12px 0 0; padding: 0; list-style: none; display: grid; gap: 8px; }
    .list li{ border: 1px solid var(--border); background: rgba(0,0,0,0.20); border-radius: 12px; padding: 10px 12px; font-size: 14px; }
    .badge{ color: var(--acc2); margin-right: 8px; font-weight: 700; font-size: 12px; }
    .file{ margin-top: 12px; border: 1px solid var(--border); background: rgba(0,0,0,0.25); border-radius: 12px; padding: 12px; }
    .filelabel{ font-size: 11px; color: var(--muted); margin-bottom: 6px; }
    .row{ display: flex; flex-wrap: wrap; align-items: baseline; justify-content: space-between; gap: 8px; }
    .title{ color: var(--acc); font-weight: 700; }
    .meta{ color: var(--muted); font-size: 12px; }
    .muted{ color: var(--muted); }
    a{ color: var(--txt); }
    .inline-links{ display: flex; flex-wrap: wrap; gap: 8px 16px; margin-top: 8px; }
    footer{ margin-top: 14px; padding: 0 4px; font-size: 12px; color: var(--muted); display: flex; flex-wrap: wrap; justify-content: space-between; gap: 10px; }
  </style>
</head>
<body class="scanlines">
  <div class="wrap">
    <section class="panel card" id="top">
      <div class="topbar">
        <div id="topVersion"></div>
        <div id="topStatus"></div>
      </div>
      <h1 class="glow" id="djName"></h1>
      <p class="lead" id="tagline"></p>
      <div class="cover"><img id="coverPhoto" src="" alt="" /></div>
      <div class="boot" aria-label="Boot log">
        <div class="label">BOOT_LOG</div>
        <ul id="bootList"></ul>
      </div>
      <div class="cmds" role="navigation" aria-label="Commands">
        <a class="cmd" href="#sets"><b>&gt;</b> PLAY_SETS</a>
        <a class="cmd" href="#about"><b>&gt;</b> READ_BIO</a>
        <a class="cmd" href="#contact"><b>&gt;</b> BOOKING_CONTACT</a>
      </div>
      <div class="chips" aria-label="Stats">
        <span class="chip" id="bpmChip"></span>
        <span class="chip" id="genresChip"></span>
        <span class="chip" id="regionChip"></span>
      </div>
    </section>

    <div class="grid">
      <section class="panel card" id="about">
        <div class="section-head">
          <h2 class="glow"><span style="color:var(--acc)">&gt;</span> ABOUT</h2>
          <div class="path">/usr/profile</div>
        </div>
        <div class="section-body">
          <p style="margin:0" id="bioIntro"></p>
          <p style="margin:10px 0 0" id="bioShort"></p>
          <div class="inline-links" aria-label="Social links" id="socialLinks"></div>
        </div>
      </section>

      <section class="panel card" id="sets">
        <div class="section-head">
          <h2 class="glow"><span style="color:var(--acc)">&gt;</span> SETS</h2>
          <div class="path">/usr/sets</div>
        </div>
        <div class="section-body">
          <ul class="list" id="setsList"></ul>
        </div>
      </section>

      <section class="panel card" id="gigs">
        <div class="section-head">
          <h2 class="glow"><span style="color:var(--acc)">&gt;</span> GIGS</h2>
          <div class="path">/usr/gigs</div>
        </div>
        <div class="section-body">
          <ul class="list" id="gigsList"></ul>
        </div>
      </section>

      <section class="panel card" id="contact">
        <div class="section-head">
          <h2 class="glow"><span style="color:var(--acc)">&gt;</span> CONTACT</h2>
          <div class="path">/usr/contact</div>
        </div>
        <div class="section-body">
          <div class="file">
            <div class="filelabel">/contact/booking</div>
            <div class="row">
              <div class="title" id="contactBooking"></div>
              <div class="meta" id="contactEmail"></div>
            </div>
            <p style="margin:10px 0 0" class="muted" id="contactInstagram"></p>
          </div>
        </div>
      </section>

      <section class="panel card" id="easter-eggs">
        <div class="section-head">
          <h2 class="glow"><span style="color:var(--acc)">&gt;</span> EASTER EGGS</h2>
          <div class="path">/usr/easter-eggs</div>
        </div>
        <div class="section-body">
          <ul class="list">
            <li><span class="badge">[CMD]</span><code>sudo vibe</code></li>
            <li><span class="badge">[CMD]</span><code>alias higherdims='play sets'</code></li>
          </ul>
        </div>
      </section>

      <footer>
        <span>© <span id="year"></span> <span id="footerName"></span></span>
        <span style="color:var(--acc2)">BUILD: terminal-skin / underground</span>
      </footer>
    </div>
  </div>

  <script>
    /** @typedef {{label: string, url: string, platform: string}} SocialLink */
    /** @typedef {{platform: string, title: string, url: string}} DjSet */
    /** @typedef {{date?: string, venue?: string, city?: string, note?: string}} Gig */
    /** @typedef {{booking: string, email: string, instagram: string}} Contact */
    /** @typedef {{src: string, alt: string}} CoverPhoto */
    /** @typedef {{min: number, max: number, note?: string}} BpmRange */
    /** @typedef {{djName: string, tagline: string, bioShort: string, genres: string[], bpmRange: BpmRange, region: string, links: SocialLink[], coverPhoto: CoverPhoto, sets: DjSet[], gigs: Gig[], contact: Contact}} SiteContent */

    /** @param {unknown} payload */
    function parseContent(payload) {
      if (!payload || typeof payload !== "object") {
        throw new Error("Invalid content payload");
      }
      return /** @type {SiteContent} */ (payload);
    }

    async function loadContent() {
      const response = await fetch("./content/content.json");
      if (!response.ok) {
        throw new Error("Failed to load content.json");
      }
      return parseContent(await response.json());
    }

    /** @param {SiteContent} content */
    function renderContent(content) {
      document.title = content.djName;
      const meta = document.querySelector('meta[name="description"]');
      if (meta) meta.setAttribute("content", content.tagline);

      document.getElementById("topVersion").textContent = `${content.djName}.exe v1.0`;
      document.getElementById("topStatus").innerHTML = 'STATUS: <span class="glow" style="color:var(--acc)">LIVE</span> • VIBE: UNDERGROUND';
      document.getElementById("djName").textContent = content.djName;
      document.getElementById("tagline").innerHTML = `${content.tagline} <span class="cursor">▮</span>`;

      const coverPhoto = document.getElementById("coverPhoto");
      coverPhoto.src = content.coverPhoto.src;
      coverPhoto.alt = content.coverPhoto.alt;

      document.getElementById("bpmChip").textContent = `BPM: ${content.bpmRange.min}–${content.bpmRange.max} bpm • ${content.bpmRange.note ?? ""}`.trim();
      document.getElementById("genresChip").textContent = `GENRES: ${content.genres.join(" • ")}`;
      document.getElementById("regionChip").textContent = `REGION: ${content.region}`;

      const introLine = content.bioShort.split(". ")[0] + ".";
      document.getElementById("bioIntro").textContent = introLine;
      document.getElementById("bioShort").textContent = content.bioShort;

      const socialLinks = document.getElementById("socialLinks");
      socialLinks.innerHTML = "";
      content.links.forEach((link) => {
        const a = document.createElement("a");
        a.href = link.url;
        a.target = "_blank";
        a.rel = "noopener noreferrer";
        a.textContent = link.label;
        socialLinks.appendChild(a);
      });

      const setsList = document.getElementById("setsList");
      setsList.innerHTML = "";
      content.sets.forEach((set) => {
        const li = document.createElement("li");
        li.innerHTML = `<span class="badge">[${set.platform}]</span><a href="${set.url}" target="_blank" rel="noopener noreferrer">${set.title}</a>`;
        setsList.appendChild(li);
      });

      const gigsList = document.getElementById("gigsList");
      gigsList.innerHTML = "";
      if (!content.gigs.length) {
        gigsList.innerHTML = '<li><span class="badge">[EMPTY]</span>No gigs announced yet.</li>';
      } else {
        content.gigs.forEach((gig) => {
          const li = document.createElement("li");
          li.textContent = [gig.date, gig.venue, gig.city, gig.note].filter(Boolean).join(" • ");
          gigsList.appendChild(li);
        });
      }

      document.getElementById("contactBooking").textContent = `Booking: ${content.contact.booking}`;
      document.getElementById("contactEmail").textContent = `email: ${content.contact.email}`;
      document.getElementById("contactInstagram").textContent = `Instagram: ${content.contact.instagram}`;
      document.getElementById("footerName").textContent = content.djName;

      const bootLines = [
        `[SYS] INITIALIZING ${content.djName.toUpperCase()} PROFILE...`,
        `[OK]  LOADING GENRES -> ${content.genres.slice(0, 3).join(", ")}...`,
        `[OK]  SYNCING RANGE -> ${content.bpmRange.min}–${content.bpmRange.max} bpm`,
        "[OK]  ROUTING OUTPUT -> MINDSPACE",
        "[OK]  READY"
      ];

      const bootList = document.getElementById("bootList");
      let index = 0;
      const addLine = () => {
        if (index >= bootLines.length) return;
        const li = document.createElement("li");
        li.innerHTML = `<span>›</span>${bootLines[index]}`;
        bootList.appendChild(li);
        index++;
        setTimeout(addLine, 180);
      };
      addLine();
    }

    document.getElementById("year").textContent = new Date().getFullYear();
    loadContent().then(renderContent).catch((error) => {
      console.error(error);
      document.getElementById("djName").textContent = "Failed to load content";
    });
  </script>
</body>
</html>
